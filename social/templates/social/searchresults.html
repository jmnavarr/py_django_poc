{% extends "social/master.html" %}

{% block js %}
    <script src="/static/js/searchresults.js" type="text/javascript"></script>
{% endblock js %}

{% block title %}Search Results{% endblock title %}

{% block content %}
    <h4 class="sub-header">Search Results</h4>

    <a href="#" class="prevent-default" id="btn-select-all-search-results">Select All</a> | <a href="/social/get_searchresults_csv" id="btn-export-csv-search-results">Export to CSV</a>

    <form action="#" class="inline-form">
        {% csrf_token %}

        <div class="results-div">
            {% if searchresults_list %}
                <table class="table table-striped results-table">
                    <thead>
                        <tr>
                            <th>Select</th>
                            <th>Title</th>
                            <th>Link to Content</th>
                            <th>Social Media Type</th>
                            <th>Date Added</th>
                        </tr>
                    </thead>
                    <tbody>
                    {% for searchresult in searchresults_list %}
                        <tr>
                            <td>
                                <input type="checkbox" class="search-result-checkbox" data-search-result-id="{{ searchresult.id }}" checked />
                            </td>
                            <td>{{ searchresult.title }}</td>
                            <td>{{ searchresult.link_to_content }}</td>
                            <td>{{ searchresult.social_media_type|title }}</td>
                            <td>{{ searchresult.date_added }}</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <p>No search results available yet.</p>
            {% endif %}
        </div>
    </form>
{% endblock content %}